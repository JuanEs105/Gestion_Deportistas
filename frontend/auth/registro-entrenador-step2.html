<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro Entrenador - Paso 2 | Titanes Evolution</title>
    
    <!-- Fuentes -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="../shared/css/main.css">
    <link rel="stylesheet" href="registro-entrenador.css">
</head>
<body class="registro-entrenador-body">
    <!-- Botón Volver -->
    <a href="registro-entrenador-step1.html" class="btn-back-registro">
        <span class="material-symbols-outlined">arrow_back</span>
        Volver
    </a>

    <!-- Contenedor principal -->
    <div class="registro-container">
        <!-- Logo -->
        <div class="registro-logo-container">
            <div class="registro-logo-circle">
                <img src="../assets/images/logo titanes.jpg" 
                     alt="Titanes Evolution" class="registro-logo-img">
            </div>
            <h1 class="registro-logo-text">
                Titanes<span class="registro-logo-red">Evolution</span>
            </h1>
            <p class="registro-subtitle">Registro de Entrenador</p>
        </div>

        <!-- Contenido del formulario -->
        <div class="registro-form-container">
            <!-- Barra de progreso -->
            <div class="registro-progress">
                <div class="registro-progress-bar">
                    <div class="registro-progress-fill" style="width: 66%"></div>
                </div>
                <div class="registro-progress-steps">
                    <div class="registro-progress-step completed">
                        <span class="registro-step-number">✓</span>
                        <span class="registro-step-label">Correo</span>
                    </div>
                    <div class="registro-progress-step active">
                        <span class="registro-step-number">2</span>
                        <span class="registro-step-label">Código</span>
                    </div>
                    <div class="registro-progress-step">
                        <span class="registro-step-number">3</span>
                        <span class="registro-step-label">Contraseña</span>
                    </div>
                </div>
            </div>

            <!-- Título del paso -->
            <div class="registro-header">
                <h2 class="registro-title">Verifica tu Código</h2>
                <div class="registro-email-info">
                    <span class="material-symbols-outlined">mail</span>
                    <span id="currentEmail">Cargando...</span>
                </div>
            </div>

            <!-- Formulario -->
            <form id="codeForm" class="registro-form">
                <div class="registro-form-group">
                    <label for="codeInput" class="registro-label">
                        <span class="material-symbols-outlined">lock</span>
                        Código de Verificación
                    </label>
                    
                    <!-- Inputs de código -->
                    <div class="registro-code-inputs">
                        <input type="text" maxlength="1" class="registro-code-input" data-index="0">
                        <input type="text" maxlength="1" class="registro-code-input" data-index="1">
                        <input type="text" maxlength="1" class="registro-code-input" data-index="2">
                        <input type="text" maxlength="1" class="registro-code-input" data-index="3">
                        <input type="text" maxlength="1" class="registro-code-input" data-index="4">
                        <input type="text" maxlength="1" class="registro-code-input" data-index="5">
                    </div>
                    <input type="hidden" id="fullCode" name="code">
                    
                    <div class="registro-code-hint">
                        <span class="material-symbols-outlined">info</span>
                        Ingresa el código de 6 dígitos que te enviamos por correo
                    </div>
                </div>

                <!-- Temporizador -->
                <div class="registro-attempts-box">
                    <div class="registro-attempts-header">
                        <span class="material-symbols-outlined">timer</span>
                        <h3 class="registro-attempts-title">Tiempo Restante</h3>
                    </div>
                    <div class="registro-attempts-content">
                        <p style="text-align: center; font-size: 1.5rem; margin: 10px 0;">
                            <strong id="timer">15:00</strong>
                        </p>
                        <p style="text-align: center; color: var(--text-secondary); margin: 0;">
                            Expira en <span id="expirationTime">15</span> minutos
                        </p>
                    </div>
                </div>

                <!-- Intentos -->
                <div class="registro-attempts-box">
                    <div class="registro-attempts-header">
                        <span class="material-symbols-outlined">shield</span>
                        <h3 class="registro-attempts-title">Seguridad</h3>
                    </div>
                    <div class="registro-attempts-content">
                        <p>Intentos restantes: <strong id="attemptsCount">3</strong> de 3</p>
                        <div class="registro-attempts-warning">
                            ⚠️ Después de 3 intentos fallidos, tu cuenta será bloqueada
                        </div>
                    </div>
                </div>

                <!-- Botones -->
                <div class="registro-form-actions">
                    <button type="submit" class="registro-btn-primary">
                        <span class="registro-btn-text">Verificar Código</span>
                        <span class="material-symbols-outlined">verified</span>
                    </button>
                    
                    <button type="button" id="resendCodeBtn" class="registro-btn-secondary">
                        <span class="registro-btn-text">Reenviar Código</span>
                        <span class="material-symbols-outlined">refresh</span>
                    </button>
                    
                    <button type="button" id="changeEmailBtn" class="registro-btn-secondary">
                        <span class="registro-btn-text">Cambiar Correo</span>
                        <span class="material-symbols-outlined">edit</span>
                    </button>
                </div>
            </form>

            <!-- Información de seguridad -->
            <div class="registro-security-info">
                <div class="registro-security-header">
                    <span class="material-symbols-outlined">security</span>
                    <h3 class="registro-security-title">Recomendaciones</h3>
                </div>
                <ul class="registro-security-list">
                    <li>Revisa tu bandeja de entrada y carpeta de spam</li>
                    <li>El código es válido por 15 minutos</li>
                    <li>No compartas este código con nadie</li>
                    <li>Si no recibes el código, solicita uno nuevo</li>
                </ul>
            </div>
        </div>

        <!-- Footer -->
        <footer class="registro-footer">
            <p class="registro-copyright">© 2026 Titanes Evolution - Sistema de Entrenadores</p>
            <div class="registro-footer-stats">
                <div class="registro-stat">
                    <span class="registro-stat-value">+25</span>
                    <span class="registro-stat-label">Entrenadores</span>
                </div>
                <div class="registro-divider"></div>
                <div class="registro-stat">
                    <span class="registro-stat-value">100%</span>
                    <span class="registro-stat-label">Verificados</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="../shared/js/auth.js"></script>
    <script src="../shared/js/api.js"></script>
    <script src="registro-entrenador-step2.js"></script>
</body>
</html>